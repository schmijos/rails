<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Class: ActionController::Base</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
	<script type="text/javascript">
	// <![CDATA[

	function popupCode( url ) {
		window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
	}

	function toggleCode( id ) {
		if ( document.getElementById )
			elem = document.getElementById( id );
		else if ( document.all )
			elem = eval( "document.all." + id );
		else
			return false;

		elemStyle = elem.style;
		
		if ( elemStyle.display != "block" ) {
			elemStyle.display = "block"
		} else {
			elemStyle.display = "none"
		}

		return true;
	}
	
	// Make codeblocks hidden by default
	document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
	
	// ]]>
	</script>

</head>
<body>



    <div id="classHeader">
        <h1>ActionController::Base <sup class="type-note">(Class)</sup></h1>
        <table class="header-table">
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/vendor/actionpack/lib/action_controller/base_rb.html">
                vendor/actionpack/lib/action_controller/base.rb
                </a>
				<br />
                <a href="../../files/vendor/actionpack/lib/action_controller/cgi_process_rb.html">
                vendor/actionpack/lib/action_controller/cgi_process.rb
                </a>
				<br />
                <a href="../../files/vendor/actionpack/lib/action_controller/test_process_rb.html">
                vendor/actionpack/lib/action_controller/test_process.rb
                </a>
				<br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

	<div id="bodyContent">


	<div id="contextContent">

		<div id="description">
			<p>
Action Controllers are made up of one or more actions that performs its
purpose and then either renders a template or redirects to another action.
An action is defined as a public method on the controller, which will
automatically be made accessible to the web-server through a mod_rewrite
mapping. A sample controller could look like this:
</p>
<pre>
  class GuestBookController &lt; ActionController::Base
    def index
      @entries = Entry.find_all
    end

    def sign
      Entry.create(@params[&quot;entry&quot;])
      redirect_to :action =&gt; &quot;index&quot;
    end
  end

  GuestBookController.template_root = &quot;templates/&quot;
  GuestBookController.process_cgi
</pre>
<p>
All actions assume that you want to render a template matching the name of
the action at the end of the performance unless you tell it otherwise. The
index action complies with this assumption, so after populating the
@entries instance variable, the GuestBookController will render
&quot;templates/guestbook/index.rhtml&quot;.
</p>
<p>
Unlike index, the sign action isn&#8217;t interested in rendering a
template. So after performing its main purpose (creating a new entry in the
guest book), it sheds the rendering assumption and initiates a redirect
instead. This redirect works by returning an external &quot;302 Moved&quot;
HTTP response that takes the user to the index action.
</p>
<p>
The index and sign represent the two basic action archetypes used in Action
Controllers. Get-and-show and do-and-redirect. Most actions are variations
of these themes.
</p>
<p>
Also note that it&#8217;s the final call to <tt><a
href="Base.html#M000029">process_cgi</a></tt> that actually initiates the
action performance. It will extract request and response objects from the
CGI
</p>
<h2>Requests</h2>
<p>
Requests are processed by the Action Controller framework by extracting the
value of the &quot;action&quot; key in the request parameters. This value
should hold the name of the action to be performed. Once the action has
been identified, the remaining request parameters, the session (if one is
available), and the full request with all the http headers are made
available to the action through instance variables. Then the action is
performed.
</p>
<p>
The full request object is available in @request and is primarily used to
query for http headers. These queries are made by accessing the environment
hash, like this:
</p>
<pre>
  def hello_ip
    location = @request.env[&quot;REMOTE_ADDRESS&quot;]
    render_text &quot;Hello stranger from #{location}&quot;
  end
</pre>
<h2>Parameters</h2>
<p>
All request parameters whether they come from a GET or POST request, or
from the URL, are available through the @params hash. So an action that was
performed through /weblog/list?category=All&amp;limit=5 will include {
&quot;category&quot; =&gt; &quot;All&quot;, &quot;limit&quot; =&gt; 5 } in
@params.
</p>
<p>
It&#8217;s also possible to construct multi-dimensional parameter hashes by
specifying keys using brackets, such as:
</p>
<pre>
  &lt;input type=&quot;text&quot; name=&quot;post[name]&quot; value=&quot;david&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;post[address]&quot; value=&quot;hyacintvej&quot;&gt;
</pre>
<p>
A request steeming from a form holding these inputs will include {
&quot;post&quot; =&gt; { &quot;name&quot; =&gt; &quot;david&quot;,
&quot;address&quot; =&gt; &quot;hyacintvej&quot; }. If the address input
had been named &quot;post[address][street]&quot;, the @params would have
included { &quot;post&quot; =&gt; { &quot;address&quot; =&gt; {
&quot;street&quot; =&gt; &quot;hyacintvej&quot; } } }. There&#8217;s no
limit to the depth of the nesting.
</p>
<h2>Sessions</h2>
<p>
Sessions allows you to store objects in memory between requests. This is
useful for objects that are not yet ready to be persisted, such as a Signup
object constructed in a multi-paged process, or objects that don&#8217;t
change much and are needed all the time, such as a User object for a system
that requires login. The session should not be used, however, as a cache
for objects where it&#8217;s likely they could be changed unknowingly.
It&#8217;s usually too much work to keep it all synchronized &#8212;
something databases already excel at.
</p>
<p>
You can place objects in the session by using the <tt>@session</tt> hash:
</p>
<pre>
  @session[&quot;person&quot;] = Person.authenticate(user_name, password)
</pre>
<p>
And retrieved again through the same hash:
</p>
<pre>
  Hello #{@session[&quot;person&quot;]}
</pre>
<p>
Any object can be placed in the session (as long as it can be Marshalled).
But remember that 1000 active sessions each storing a 50kb object could
lead to a 50MB memory overhead. In other words, think carefully about size
and caching before resorting to the use of the session.
</p>
<h2>Responses</h2>
<p>
Each action results in a response, which holds the headers and document to
be sent to the user&#8217;s browser. The actual response object is
generated automatically through the use of renders and redirects, so
it&#8217;s normally nothing you&#8217;ll need to be concerned about.
</p>
<h2>Renders</h2>
<p>
Action Controllers sends content to the user by using one of five rendering
methods. The most versatile and common is the rendering of a template.
Included in the Action Pack is the Action View, which enables rendering of
eRuby templates. It&#8217;s automatically configgured. The controller
passes objects to the view by assigning instance variables:
</p>
<pre>
  def show
    @post = Post.find(@params[&quot;id&quot;]
  end
</pre>
<p>
Which are then automatically available to the view:
</p>
<pre>
  Title: &lt;%= @post.title %&gt;
</pre>
<p>
You don&#8217;t have to rely the automated rendering. Especially actions
that could result in the rendering of different templates will use the
manual rendering methods:
</p>
<pre>
  def search
    @results = Search.find(@params[&quot;query&quot;])
    case @results
      when 0 then render &quot;weblog/no_results&quot;
      when 1 then render_action &quot;show&quot;
      when 2..10 then render_action &quot;show_many&quot;
    end
  end
</pre>
<p>
Read more about writing eRuby templates in <a
href="../ActionView/ERbTemplate.html">../ActionView/ERbTemplate.html</a>.
</p>
<h2>Redirects</h2>
<p>
Redirecting is what actions that update the model do when they&#8217;re
done. The <tt>save_post</tt> method shouldn&#8217;t be responsible for also
showing the post once it&#8217;s saved &#8212; that&#8217;s the job for
<tt>show_post</tt>. So once <tt>save_post</tt> has completed its business,
it&#8217;ll redirect to <tt>show_post</tt>. All redirects are external,
which means that when the user refreshes his browser, it&#8217;s not going
to save the post again, but rather just show it one more time.
</p>
<p>
This sounds fairly simple, but the redirection is complicated by the quest
for a phenomenon known as &quot;pretty urls&quot;. Instead of accepting the
dreadful beings that is
&quot;weblog_controller?action=show&amp;post_id=5&quot;, Action Controller
goes out of its way to represent the former as &quot;/weblog/show/5&quot;.
And this is even the simple case. As an example of a more advanced pretty
url consider &quot;/library/books/ISBN/0743536703/show&quot;, which can be
mapped to books_controller?action=show&amp;type=ISBN&amp;id=0743536703.
</p>
<p>
Redirects work by rewriting the URL of the current action. So if the show
action was called by &quot;/library/books/ISBN/0743536703/show&quot;, we
can redirect to an edit action simply by doing <tt><a
href="Base.html#M000025">redirect_to</a>(:action =&gt;
&quot;edit&quot;)</tt>, which could throw the user to
&quot;/library/books/ISBN/0743536703/edit&quot;. Naturally, you&#8217;ll
need to setup the .htaccess (or other mean of URL rewriting for the web
server) to point to the proper controller and action in the first place,
but once you have, it can be rewritten with ease.
</p>
<p>
Let&#8217;s consider a bunch of examples on how to go from
&quot;/library/books/ISBN/0743536703/edit&quot; to somewhere else:
</p>
<pre>
  redirect_to(:action =&gt; &quot;show&quot;, :action_prefix =&gt; &quot;XTC/123&quot;) =&gt;
    &quot;http://www.singlefile.com/library/books/XTC/123/show&quot;

  redirect_to(:path_params =&gt; {&quot;type&quot; =&gt; &quot;EXBC&quot;}) =&gt;
    &quot;http://www.singlefile.com/library/books/EXBC/0743536703/show&quot;

  redirect_to(:controller =&gt; &quot;settings&quot;) =&gt;
    &quot;http://www.singlefile.com/library/settings/&quot;
</pre>
<p>
For more examples of redirecting options, have a look at the unit test in
test/controller/url_test.rb. It&#8217;s very readable and will give you an
excellent understanding of the different options and what they do.
</p>
<h2>Environments</h2>
<p>
Action Controller works out of the box with CGI, FastCGI, and mod_ruby. CGI
and mod_ruby controllers are triggered just the same using:
</p>
<pre>
  WeblogController.process_cgi
</pre>
<p>
FastCGI controllers are triggered using:
</p>
<pre>
  FCGI.each_cgi{ |cgi| WeblogController.process_cgi(cgi) }
</pre>

		</div>


		<div id="method-list">
			<h2 class="section-bar">Methods</h2>

			<div class="name-list">
			<a href="#M000018">add_template_helper</a>&nbsp;&nbsp;
			<a href="#M000028">cookie</a>&nbsp;&nbsp;
			<a href="#M000029">process_cgi</a>&nbsp;&nbsp;
			<a href="#M000030">process_test</a>&nbsp;&nbsp;
			<a href="#M000025">redirect_to</a>&nbsp;&nbsp;
			<a href="#M000026">redirect_to_path</a>&nbsp;&nbsp;
			<a href="#M000027">redirect_to_url</a>&nbsp;&nbsp;
			<a href="#M000019">render</a>&nbsp;&nbsp;
			<a href="#M000020">render_action</a>&nbsp;&nbsp;
			<a href="#M000021">render_file</a>&nbsp;&nbsp;
			<a href="#M000022">render_template</a>&nbsp;&nbsp;
			<a href="#M000023">render_text</a>&nbsp;&nbsp;
			<a href="#M000024">url_for</a>&nbsp;&nbsp;
			</div>
		</div>

		<div id="constants-list">
			<h2 class="section-bar">Constants</h2>

			<div class="name-list">
				<table summary="Constants">
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">DEFAULT_RENDER_STATUS_CODE</td>
					<td>=</td>
					<td class="context-item-value">"200 OK"</td>
				</tr>
				</table>
			</div>
		</div>



		<div id="attribute-list">
			<h2 class="section-bar">Attributes</h2>

			<div class="name-list">
				<table>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">assigns</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds the hash of variables that are passed on to the template class to be
made available to the view. This hash is generated by taking a snapshot of
all the instance variables in the current scope just before a template is
rendered.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">cookies</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds a hash of cookie names and values. Accessed like
<tt>@cookies[&quot;user_name&quot;]</tt> to get the value of the user_name
cookie. This hash is read-only. You set new cookies using the cookie
method.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">headers</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds a hash of header names and values. Accessed like
<tt>@headers[&quot;Cache-Control&quot;]</tt> to get the value of the
Cache-Control directive. Values should always be specified as strings.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">params</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds a hash of all the GET, POST, and Url parameters passed to the action.
Accessed like <tt>@params[&quot;post_id&quot;]</tt> to get the post_id. No
type casts are made, so all values are returned as strings.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">request</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds the request object that&#8217;s primarily used to get environment
variables through access like
<tt>@request.env[&quot;REQUEST_URI&quot;]</tt>.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">response</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds the response object that&#8217;s primarily used to set additional
HTTP headers through access like
<tt>@response.headers[&quot;Cache-Control&quot;] =
&quot;no-cache&quot;</tt>. Can also be used to access the final body HTML
after a template has been rendered through @response.body &#8212; useful
for <tt>after_filter</tt>s that wants to manipulate the output, such as a
OutputCompressionFilter.

</td>
				</tr>
				<tr class="top-aligned-row context-row">
					<td class="context-item-name">session</td>
					<td class="context-item-value">&nbsp;[RW]&nbsp;</td>
					<td class="context-item-desc">
Holds a hash of objects in the session. Accessed like
<tt>@session[&quot;person&quot;]</tt> to get the object tied to the
&quot;person&quot; key. The session will hold any type of object as values,
but the key should be a string.

</td>
				</tr>
				</table>
			</div>
		</div>
			

	</div>



		<!-- if includes -->
		<div id="includes">
			<h2 class="section-bar">Included Modules</h2>

			<div id="includes-list">
		    <span class="include-name">ClassInheritableAttributes</span>
			</div>
		</div>


		<!-- if method_list -->
		<div id="methods">
			<h2 class="section-bar">Public Class methods</h2>

			<!-- add_template_helper(helper_module) -->
			<div id="method-M000018" class="method-detail">
				<a name="M000018"></a>

				<div class="method-heading">
					<a href="#M000018" class="method-signature">
					<span class="method-name">add_template_helper</span><span class="method-args">(helper_module)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Makes all the (instance) methods in the helper module available to
templates rendered through this controller. See ActionView::Helpers (<a
href="../ActionView/Helpers.html">../ActionView/Helpers.html</a>) for more
about making your own helper modules available to the templates.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000018-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_template_helper</span>(<span class="ruby-identifier">helper_module</span>)
233:         <span class="ruby-identifier">template_class</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-node">&quot;include #{helper_module}&quot;</span>
234:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- process_cgi(cgi = CGI.new, session_options = {}) -->
			<div id="method-M000029" class="method-detail">
				<a name="M000029"></a>

				<div class="method-heading">
					<a href="#M000029" class="method-signature">
					<span class="method-name">process_cgi</span><span class="method-args">(cgi = CGI.new, session_options = {})</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Process a request extracted from an CGI object and return a response. Pass
false as <tt>session_options</tt> to disable sessions (large performance
increase if sessions are not needed). The <tt>session_options</tt> are the
same as for CGI::Session:
</p>
<ul>
<li><tt>:database_manager</tt> - options are CGI::Session::FileStore,
CGI::Session::MemoryStore, and CGI::Session::PStore (default)

</li>
<li><tt>:session_key</tt> - the parameter name used for the session id.
Defaults to &#8216;_session_id&#8217;.

</li>
<li><tt>:session_id</tt> - the session id to use. If not provided, then it is
retrieved from the <tt>session_key</tt> parameter of the request, or
automatically generated for a new session.

</li>
<li><tt>:new_session</tt> - if true, force creation of a new session. If not
set, a new session is only created if none currently exists. If false, a
new session is never created, and if none currently exists and the
<tt>session_id</tt> option is not set, an ArgumentError is raised.

</li>
<li><tt>:session_expires</tt> - the time the current session expires, as a
<tt>Time</tt> object. If not set, the session will continue indefinitely.

</li>
<li><tt>:session_domain</tt> - the hostname domain for which this session is
valid. If not set, defaults to the hostname of the server.

</li>
<li><tt>:session_secure</tt> - if <tt>true</tt>, this session will only work
over HTTPS.

</li>
<li><tt>:session_path</tt> - the path for which this session applies. Defaults
to the directory of the CGI script.

</li>
</ul>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000029-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/cgi_process.rb, line 22</span>
22:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">process_cgi</span>(<span class="ruby-identifier">cgi</span> = <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">new</span>, <span class="ruby-identifier">session_options</span> = {}) 
23:       <span class="ruby-identifier">new</span>.<span class="ruby-identifier">process_cgi</span>(<span class="ruby-identifier">cgi</span>, <span class="ruby-identifier">session_options</span>)
24:     <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- process_test(request) -->
			<div id="method-M000030" class="method-detail">
				<a name="M000030"></a>

				<div class="method-heading">
					<a href="#M000030" class="method-signature">
					<span class="method-name">process_test</span><span class="method-args">(request)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Process a test request called with a <tt>TestRequest</tt> object.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000030-source">
<pre>
   <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/test_process.rb, line 4</span>
4:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">process_test</span>(<span class="ruby-identifier">request</span>)
5:       <span class="ruby-identifier">new</span>.<span class="ruby-identifier">process_test</span>(<span class="ruby-identifier">request</span>)
6:     <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<h2 class="section-bar">Protected Instance methods</h2>

			<!-- render(template_name = nil, status = nil) -->
			<div id="method-M000019" class="method-detail">
				<a name="M000019"></a>

				<div class="method-heading">
					<a href="#M000019" class="method-signature">
					<span class="method-name">render</span><span class="method-args">(template_name = nil, status = nil)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Renders the template specified by <tt>template_name</tt>, which defaults to
the name of the current controller and action. So calling <tt>render</tt>
in WeblogController#show will attempt to render
&quot;#{template_root}/weblog/show.rhtml&quot;. The template_root is set on
the <a href="Base.html">ActionController::Base</a> class and is shared by
all controllers. It&#8217;s also possible to pass a status code using the
second parameter. This defaults to &quot;200 OK&quot;, but can be changed,
such as by calling <tt>render(&quot;weblog/error&quot;, &quot;500
Error&quot;)</tt>.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">template_name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:doc:</span>
256:         <span class="ruby-identifier">render_file</span>(<span class="ruby-identifier">template_name</span> <span class="ruby-operator">||</span> <span class="ruby-node">&quot;#{controller_name}/#{action_name}&quot;</span>, <span class="ruby-identifier">status</span>, <span class="ruby-keyword kw">true</span>)
257:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- render_action(action_name, status = nil) -->
			<div id="method-M000020" class="method-detail">
				<a name="M000020"></a>

				<div class="method-heading">
					<a href="#M000020" class="method-signature">
					<span class="method-name">render_action</span><span class="method-args">(action_name, status = nil)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Works like render, but instead of requiring a full template name, you can
get by with specifying the action name. So calling <tt><a
href="Base.html#M000020">render_action</a> &quot;show_many&quot;</tt> in
WeblogController#display will render
&quot;#{template_root}/weblog/show_many.rhtml&quot;.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 261</span>
261:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_action</span>(<span class="ruby-identifier">action_name</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:doc:</span>
262:         <span class="ruby-identifier">render</span> <span class="ruby-node">&quot;#{controller_name}/#{action_name}&quot;</span>, <span class="ruby-identifier">status</span>
263:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- render_file(template_path, status = nil, use_full_path = false) -->
			<div id="method-M000021" class="method-detail">
				<a name="M000021"></a>

				<div class="method-heading">
					<a href="#M000021" class="method-signature">
					<span class="method-name">render_file</span><span class="method-args">(template_path, status = nil, use_full_path = false)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Works like render, but disregards the template_root and requires a full
path to the template that needs to be rendered. Can be used like <tt><a
href="Base.html#M000021">render_file</a>
&quot;/Users/david/Code/Ruby/template&quot;</tt> to render
&quot;/Users/david/Code/Ruby/template.rhtml&quot;.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000021-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 267</span>
267:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_file</span>(<span class="ruby-identifier">template_path</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">use_full_path</span> = <span class="ruby-keyword kw">false</span>) <span class="ruby-comment cmt">#:doc:</span>
268:         <span class="ruby-identifier">assert_existance_of_template_file</span>(<span class="ruby-identifier">template_path</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_full_path</span>
269:         <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Rendering #{template_path} (#{status || DEFAULT_RENDER_STATUS_CODE})&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">nil?</span>
270: 
271:         <span class="ruby-identifier">add_variables_to_assigns</span>
272:         <span class="ruby-identifier">render_text</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render_file</span>(<span class="ruby-identifier">template_path</span>, <span class="ruby-identifier">use_full_path</span>), <span class="ruby-identifier">status</span>)
273:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- render_template(template, status = nil) -->
			<div id="method-M000022" class="method-detail">
				<a name="M000022"></a>

				<div class="method-heading">
					<a href="#M000022" class="method-signature">
					<span class="method-name">render_template</span><span class="method-args">(template, status = nil)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Renders the <tt>template</tt> string, which is useful for rendering short
templates you don&#8217;t want to bother having a file for. So you&#8217;d
call <tt><a href="Base.html#M000022">render_template</a> &quot;Hello,
&lt;%= @user.name %&gt;&quot;</tt> to greet the current user.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000022-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 277</span>
277:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_template</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:doc:</span>
278:         <span class="ruby-identifier">add_variables_to_assigns</span>
279:         <span class="ruby-identifier">render_text</span>(<span class="ruby-ivar">@template</span>.<span class="ruby-identifier">render_template</span>(<span class="ruby-identifier">template</span>), <span class="ruby-identifier">status</span>)
280:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- render_text(text, status = nil) -->
			<div id="method-M000023" class="method-detail">
				<a name="M000023"></a>

				<div class="method-heading">
					<a href="#M000023" class="method-signature">
					<span class="method-name">render_text</span><span class="method-args">(text, status = nil)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Renders the <tt>text</tt> string without parsing it through any template
engine. Useful for rendering static information as it&#8217;s considerably
faster than rendering through the template engine.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 284</span>
284:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_text</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">status</span> = <span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:doc:</span>
285:         <span class="ruby-identifier">add_variables_to_assigns</span>
286:         <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;Status&quot;</span>] = <span class="ruby-identifier">status</span> <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_RENDER_STATUS_CODE</span>
287:         <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">text</span>
288:         <span class="ruby-ivar">@performed_render</span> = <span class="ruby-keyword kw">true</span>
289:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- url_for(options = {}) -->
			<div id="method-M000024" class="method-detail">
				<a name="M000024"></a>

				<div class="method-heading">
					<a href="#M000024" class="method-signature">
					<span class="method-name">url_for</span><span class="method-args">(options = {})</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Returns an URL that has been rewritten according to the hash of
<tt>options</tt> (for doing a complete redirect, use <a
href="Base.html#M000025">redirect_to</a>). The valid keys in options are
specified below with an example going from
&quot;/library/books/ISBN/0743536703/show&quot; (mapped to
books_controller?action=show&amp;type=ISBN&amp;id=0743536703):
</p>
<pre>
           .---&gt; controller      .--&gt; action
  /library/books/ISBN/0743536703/show
  '------&gt;      '--------------&gt; action_prefix
   controller_prefix
</pre>
<ul>
<li><tt>:controller_prefix</tt> - specifies the string before the controller
name, which would be &quot;/library&quot; for the example. Called with
&quot;/shop&quot; gives &quot;/shop/books/ISBN/0743536703/show&quot;.

</li>
<li><tt>:controller</tt> - specifies a new controller and clears out everything
after the controller name (including the action, the pre- and suffix, and
all params), so called with &quot;settings&quot; gives
&quot;/library/settings/&quot;.

</li>
<li><tt>:action_prefix</tt> - specifies the string between the controller name
and the action name, which would be &quot;/ISBN/0743536703&quot; for the
example. Called with &quot;/XTC/123/&quot; gives
&quot;/library/books/XTC/123/show&quot;.

</li>
<li><tt>:action</tt> - specifies a new action, so called with &quot;edit&quot;
gives &quot;/library/books/ISBN/0743536703/edit&quot;

</li>
<li><tt>:action_suffix</tt> - specifies the string after the action name, which
would be empty for the example. Called with &quot;/detailed&quot; gives
&quot;/library/books/ISBN/0743536703/detailed&quot;.

</li>
<li><tt>:path_params</tt> - specifies a hash that contains keys mapping to the
request parameter names. In the example, { &quot;type&quot; =&gt;
&quot;ISBN&quot;, &quot;id&quot; =&gt; &quot;0743536703&quot; } would be
the path_params. It serves as another way of replacing part of the
action_prefix or action_suffix. So passing { &quot;type&quot; =&gt;
&quot;XTC&quot; } would give
&quot;/library/books/XTC/0743536703/show&quot;.

</li>
<li><tt>:id</tt> - shortcut where &quot;:id =&gt; 5&quot; can be used instead
of specifying :path_params =&gt; { &quot;id&quot; =&gt; 5 }. Called with
&quot;123&quot; gives &quot;/library/books/ISBN/123/show&quot;.

</li>
<li><tt>:params</tt> - specifies a hash that represents the regular request
parameters, such as { &quot;cat&quot; =&gt; 1, &quot;origin&quot; =&gt;
&quot;there&quot;} that would give &quot;?cat=1&amp;origin=there&quot;.
Called with { &quot;temporary&quot; =&gt; 1 } in the example would give
&quot;/library/books/ISBN/0743536703/show?temporary=1&quot;

</li>
<li><tt>:anchor</tt> - specifies the anchor name to be appended to the path.
Called with &quot;x14&quot; would give
&quot;/library/books/ISBN/0743536703/show#x14&quot;

</li>
</ul>
<p>
Naturally, you can combine multiple options in a single redirect. Examples:
</p>
<pre>
  redirect_to(:controller_prefix =&gt; &quot;/shop&quot;, :controller =&gt; &quot;settings&quot;)
  redirect_to(:action =&gt; &quot;edit&quot;, :id =&gt; 3425)
  redirect_to(:action =&gt; &quot;edit&quot;, :path_params =&gt; { &quot;type&quot; =&gt; &quot;XTC&quot;}, :params =&gt; { &quot;temp&quot; =&gt; 1})
  redirect_to(:action =&gt; &quot;publish&quot;, :action_prefix =&gt; &quot;/published&quot;, :anchor =&gt; &quot;x14&quot;)
</pre>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 327</span>
327:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {}) <span class="ruby-comment cmt">#:doc:</span>
328:         <span class="ruby-ivar">@url</span>.<span class="ruby-identifier">rewrite</span>(<span class="ruby-identifier">options</span>)
329:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- redirect_to(options = {}) -->
			<div id="method-M000025" class="method-detail">
				<a name="M000025"></a>

				<div class="method-heading">
					<a href="#M000025" class="method-signature">
					<span class="method-name">redirect_to</span><span class="method-args">(options = {})</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Redirects the browser to an URL that has been rewritten according to the
hash of <tt>options</tt> using a &quot;302 Moved&quot; HTTP header. See <a
href="Base.html#M000024">url_for</a> for a description of the valid
options.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 333</span>
333:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_to</span>(<span class="ruby-identifier">options</span> = {}) <span class="ruby-comment cmt">#:doc:</span>
334:         <span class="ruby-identifier">redirect_to_url</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>))
335:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- redirect_to_path(path) -->
			<div id="method-M000026" class="method-detail">
				<a name="M000026"></a>

				<div class="method-heading">
					<a href="#M000026" class="method-signature">
					<span class="method-name">redirect_to_path</span><span class="method-args">(path)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Redirects the browser to the specified <tt>path</tt> within the current
host (specified with a leading /). Used to sidestep the URL rewriting and
go directly to a known path. Example: <tt><a
href="Base.html#M000026">redirect_to_path</a>
&quot;/images/screenshot.jpg&quot;</tt>.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 339</span>
339:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_to_path</span>(<span class="ruby-identifier">path</span>) <span class="ruby-comment cmt">#:doc:</span>
340:         <span class="ruby-identifier">redirect_to_url</span>(<span class="ruby-value str">&quot;http://&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>)
341:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- redirect_to_url(url) -->
			<div id="method-M000027" class="method-detail">
				<a name="M000027"></a>

				<div class="method-heading">
					<a href="#M000027" class="method-signature">
					<span class="method-name">redirect_to_url</span><span class="method-args">(url)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Redirects the browser to the specified <tt>url</tt>. Used to redirect
outside of the current application. Example: <tt><a
href="Base.html#M000027">redirect_to_url</a> &quot;<a
href="http://www.rubyonrails.org">www.rubyonrails.org</a>&quot;</tt>.
</p>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 345</span>
345:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_to_url</span>(<span class="ruby-identifier">url</span>) <span class="ruby-comment cmt">#:doc:</span>
346:         <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;Redirected to #{url}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">nil?</span>
347:         <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">redirect</span>(<span class="ruby-identifier">url</span>)
348:         <span class="ruby-ivar">@performed_redirect</span> = <span class="ruby-keyword kw">true</span>
349:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>

			<!-- cookie(*options) -->
			<div id="method-M000028" class="method-detail">
				<a name="M000028"></a>

				<div class="method-heading">
					<a href="#M000028" class="method-signature">
					<span class="method-name">cookie</span><span class="method-args">(*options)</span>
					</a>
				</div>
			
				<div class="method-description">
					<p>
Creates a new cookie that is sent along-side the next render or redirect
command. API is the same as for CGI::Cookie. Examples:
</p>
<pre>
  cookie(&quot;name&quot;, &quot;value1&quot;, &quot;value2&quot;, ...)
  cookie(&quot;name&quot; =&gt; &quot;name&quot;, &quot;value&quot; =&gt; &quot;value&quot;)
  cookie('name'    =&gt; 'name',
         'value'   =&gt; ['value1', 'value2', ...],
         'path'    =&gt; 'path',   # optional
         'domain'  =&gt; 'domain', # optional
         'expires' =&gt; Time.now, # optional
         'secure'  =&gt; true      # optional
  )
</pre>
					<p><a class="source-toggle" href="#"
					  onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
					<div class="method-source-code" id="M000028-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/actionpack/lib/action_controller/base.rb, line 363</span>
363:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cookie</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">options</span>) <span class="ruby-comment cmt">#:doc:</span>
364:         <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value str">&quot;cookie&quot;</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CGI</span><span class="ruby-operator">::</span><span class="ruby-constant">Cookie</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
365:       <span class="ruby-keyword kw">end</span>
</pre>
					</div>
				</div>
			</div>


		</div>


	</div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>